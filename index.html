<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leaflet JS</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />


    <link rel="stylesheet" href="plugins/New folder/dist/leaflet.mousecoordinate.css">


    <style>
        html,
        body,
        #map {
            width: 100%;
            height: 100%;
            margin: 0;
        }
    </style>
</head>

<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
        <script src="plugins/New folder/dist/leaflet.mousecoordinate.js"></script>
    
    <script>




        // Inisialisasi peta
        var map = L.map("map").setView([0.8103005, 127.3325729
        ], 13);

        // Tile Layer Base Map
        var osm = L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
            attribution:
                '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        });

        var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
        });

        var rupabumiindonesia = L.tileLayer('https://geoservices.big.go.id/rbi/rest/services/BASEMAP/Rupabumi_Indonesia/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Badan Informasi Geospasial'
        });

        // Menambahkan basemap ke dalam peta
        rupabumiindonesia.addTo(map);
        // variable custom icon
        var markerIcon = L.icon({
            iconUrl: 'icon/map-marker.png',


            iconSize: [48, 48], // size of the icon
            iconAnchor: [24, 48], // point of the icon which will correspond to marker's location
            popupAnchor: [0, -48] // point from which the popup should open relative to the iconAnchor
        });


        // Marker
        var marker = L.marker([0.8103005, 127.3325729], { icon: markerIcon });
        var marker2 = L.marker([0.8363474, 127.3074245]);


        // Menambahkan marker ke dalam peta
        marker.addTo(map);


        // Popup
        var popup_content = "<h3>Kota Ternate</h3>" + "<p> Kota Ternate adalah sebuah kota yang terletak di Provinsi Maluku Utara, Indonesia. Kota Ternate berada di bawah kaki gunung api Gamalama di Pulau Ternate. Kota Ternate pernah menjadi ibu kota sementara Provinsi Maluku Utara secara de facto dari tahun 1999 hingga 2010. Pada tanggal 4 Agustus 2010, Sofifi diresmikan menjadi ibu kota Provinsi Maluku Utara pengganti Kota Ternate, yang merupakan sebuah kelurahan di wilayah Kota Tidore Kepulauan yang berada di Pulau Halmahera.</p>" + "<img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ714WEsZgFo72uEpdm4XFPM_lZVBggM2OCnQ&s' width='200'>" + "<br>";
        marker.bindPopup(popup_content);

        marker2.bindPopup("Ini danau Tolire")



        // marker.bindPopup("<b>Hallo</b><br>Ini adalah Gunung Gamalama");

        // marker2.bindPopup("<b>Hallo</b><br>Ini adalah Danau Tolire");
        // marker.openPopup();

        // Circle
        var circle = L.circle([0.8103005, 127.3325729], {
            color: "blue", // warna garis
            opacity: 0.4, // opacity garis
            fillColor: "#f03", // warna fill
            fillOpacity: 0.5, // opacity fill
            radius: 1000, // radius dalam meter
        });

        // Menambahkan circle ke dalam peta
        // circle.addTo(map);


        circle.bindPopup("<b>Hallo</b><br>Ini adalah Circle");

        // Tooltip
        circle.bindTooltip("Ini adalah tooltip", { sticky: true });
        circle.openTooltip();
        // Polyline
        var vertexPolyline = [
            [0.7835239, 127.3840714
            ],
            [0.8305545, 127.3811531
            ],
            [0.8363474, 127.3074245],
        ];
        var polyline = L.polyline(vertexPolyline, {
            color: "red", // warna garis
            weight: 3, // ketebalan garis
            opacity: 1, // opacity garis
        });

        // Menambahkan polyline ke dalam peta
        // polyline.addTo(map);

        // Popup
        polyline.bindPopup("<b>Hallo</b><br>Ini adalah jalan");
        polyline.openPopup();

        // Tooltip
        polyline.bindTooltip("Ini adalah tooltip", { sticky: true });
        polyline.openTooltip();

        // Polygon
        var vertexPolygon = [
            [0.7651578, 127.3729134
            ],
            [0.7826657, 127.3845863
            ],
            [0.8073826, 127.3842430
            ],
            [0.8034347, 127.3669052
            ],
            [0.7768298, 127.3633003
            ]
        ];
        var polygon = L.polygon(vertexPolygon, {
            color: "purple", // warna garis
            weight: 3, // ketebalan garis
            opacity: 1, // opacity garis
            fillColor: "#0f3", // warna fill
            fillOpacity: 0.5, // opacity fill
        });

        // Menambahkan polygon ke dalam peta
        // polygon.addTo(map);

        // Popup
        polygon.bindPopup("<b>Hallo</b><br>Ini adalah popup polygon");
        polygon.openPopup();

        // Tooltip
        polygon.bindTooltip("Ini adalah tooltip polygon", { sticky: true });
        polygon.openTooltip();



        // control
        // Control Layer
        var baseMaps = {
            "OpenStreetMap": osm,
            "Esri World Imagery": Esri_WorldImagery,
            "Rupa Bumi Indonesia": rupabumiindonesia,
        };

        var overlayMaps = {
            "Marker": marker,
            "Marker2": marker2,
            "circle": circle,

        };
        var controllayer = L.control.layers(baseMaps, overlayMaps, { collapsed: false });
        controllayer.addTo(map);


        // Scale
        // Scale 
        var scale = L.control.scale({
            position: "bottomright",
            imperial: false,
        });
        scale.addTo(map);


        // Geolocation
        map.locate({
            setView: true,
            maxZoom: 16,
        });

        // Fungsi untuk menampilkan lokasi
        function onLocationFound(e) {
            var radius = e.accuracy / 2;

            // Menampilkan marker pada lokasi 
            L.marker(e.latlng).addTo(map).bindPopup("Anda berada dalam radius " + radius + " meter dari titik ini").openPopup();

            // Menampilkan circle pada lokasi
            L.circle(e.latlng, radius).addTo(map);
        }

        // map.on("locationfound", onLocationFound);

        // Fungsi untuk menampilkan pesan error
        function onLocationError(e) {
            alert(e.message);
        }

        // map.on("locationerror", onLocationError);

        // logo
        L.Control.Watermark = L.Control.extend({
            onAdd: function (map) {
                var img = L.DomUtil.create('img');

                img.src = 'images/logo-ternate.jpeg';
                img.style.width = '70px';

                return img;
            },

            onRemove: function (map) {
                // Nothing to do here
            }
        });

        L.control.watermark = function (opts) {
            return new L.Control.Watermark(opts);
        }

        L.control.watermark({ position: 'bottomleft' }).addTo(map);
        L.control.mouseCoordinate({utm:true,utmref:true}).addTo(map);
    </script>
</body>

</html>